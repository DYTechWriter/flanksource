---
title: AWS EC2
sidebar_class_name: beta
sidebar_position: 1
tags:
- enterprise
---

# <Icon name="aws-ec2-instance" /> EC2


This check connects to an AWS account with the specified credentials, launch an EC2 instance with an option for `userData`.
This test can be used to check the availability of an ami, account service limits, run backup & restore operations, etc.

```yaml file=../../../modules/canary-checker/fixtures/aws/ec2_pass.yaml
```

<HealthCheck connection='aws' edition="enterprise" rows={[

  {
    field: "ami",
    description: "Master image to create EC2 instance from",
    required: true,

  }, {
    field: "canaryRef",
    description: "Reference Canary object",
    scheme: "[_[]v1.LocalObjectReference_](https://kubernetes.io/docs/reference/generated/kubernetes-api/"
  },
  {
    field: "keepAlive",
    description: "Keep the EC2 instance running after check completes",
    type: 'bool',
  },
  {
    field: "securityGroup",
    description: "Security group to attach to the EC2 instance",
    required: true,
  },
  {
    field: "userData",
    description: "Configure EC2 instance with user data",

  },
  {
    field: "timeout",
    description: "Timeout after to consider the check failed",
    scheme: 'int'
  },
  {
    field: "waitTime",
    description: "Set wait-time for EC2 instance launch",
    scheme: 'int'
  },
  {
    field: "region",
    description: "AWS region where EC2 instance will be launched",
  }

]}/>


